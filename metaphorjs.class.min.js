(function(){var f;if("undefined"!=typeof global)try{f=require("metaphorjs-namespace")}catch(v){f=global.MetaphorJs.ns}else f=window.MetaphorJs.ns;var q={}.undefined,r=Array.prototype.slice,s=function(d,a){return m(function(){},d,a)},t=function(d,a,b){return function(){var c=q,e=this.supr;this.supr=d.prototype[a]||function(){};try{c=b.apply(this,arguments)}catch(f){}this.supr=e;return c}},u=function(d,a,b){for(var c in a)a.hasOwnProperty(c)&&(d[c]="function"===typeof a[c]&&b.prototype&&"function"===
typeof b.prototype[c]?t(b,c,a[c]):a[c])},m=function(d,a,b){var c=function(){};c.prototype=d.prototype;c=new c;b=b||function(){this.initialize&&this.initialize.apply(this,arguments)};u(c,a,d);b.prototype=c;b.prototype.constructor=b;b.prototype.getClass=function(){return this.__proto__.constructor.__class};b.prototype.getParentClass=function(){return this.__proto__.constructor.__parentClass};b.__instantiate=function(a){return function(){var b=function(){},c;b.prototype=a.prototype;b=new b;c=a.prototype.constructor.apply(b,
arguments);return"object"==typeof c?c:b}}(b);return b},k=function(d,a,b,c,e,k){null===d&&(d="");"function"==typeof d?(e=b,"string"==typeof a?(e=c,c=b):(c=a,b=d,a=null),d=null):"string"!=typeof d&&(e=a,c=d,d=b=a=null);"string"!=typeof a&&"function"!=typeof a&&(e=c,c=b,b=a,a=null);"function"!=typeof b&&(e=c,c=b,b=null);c=c||{};var h=a&&"string"==typeof a?f.get(a):a;if(a&&!h)throw Error(a+" not found");a=h?m(h,c,b):s(c,b);a.__isMetaphorClass=!0;a.__parent=h;a.__parentClass=h?h.__class:null;a.__class=
d;if(e)for(var g in e)e.hasOwnProperty(g)&&(a[g]=e[g]);d&&(k?f.add(d,a):f.register(d,a));e&&e.alias&&f.add(e.alias,a);return a},g=function(d,a,b,c,e){return k(d,a,b,c,e,!0)},l=function(d){var a=f.get(d),b=r.call(arguments,1);if(!a)throw Error(d+" not found");return a.__instantiate.apply(this,b)},n=function(d,a){var b="string"==typeof a?f.get(a):a;return b?d instanceof b:!1},p=function(d,a){var b=d,c=f.get;"string"!=typeof a&&(a=a.getClass?a.getClass():a.prototype.constructor.__class);for("string"==
typeof d&&(b=c(d));b;){if(b.prototype.constructor.__class==a)return!0;b&&(b=b.getParentClass?c(b.getParentClass()):b.__parent)}return!1};"undefined"!=typeof global?module.exports={define:k,d:k,defineCache:g,dc:g,create:l,c:l,is:n,isSubclass:p}:(MetaphorJs.define=MetaphorJs.d=k,MetaphorJs.defineCache=MetaphorJs.dc=g,MetaphorJs.create=MetaphorJs.c=l,MetaphorJs.is=n,MetaphorJs.isSubclass=MetaphorJs.iss=p)})();
