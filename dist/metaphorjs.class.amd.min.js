'use strict';define("metaphorjs-class",["metaphorjs-namespace"],function(w){function q(c){return"string"==typeof c||c===""+c}function s(c){return"object"==typeof c&&3===x(c)&&!c.nodeType&&c.constructor===Object}function v(c){return!0===c||!1===c}function t(){}var y=Object.prototype.toString,x=function(){var c={"[object String]":0,"[object Number]":1,"[object Boolean]":2,"[object Object]":3,"[object Function]":4,"[object Array]":5,"[object RegExp]":9,"[object Date]":10};return function(k){if(!k){if(null===
k)return 6;if(void 0===k)return 7}var n=c[y.call(k)];return void 0===n?-1:1==n&&isNaN(k)?8:n}}(),u=Array.prototype.slice,z=function(){return function k(){var n=!1,q=!1,h=u.call(arguments),d=h.shift(),p,b,e;v(h[h.length-1])&&(n=h.pop());v(h[h.length-1])&&(q=n,n=h.pop());for(;h.length;)if(p=h.shift())for(b in p)if(p.hasOwnProperty(b)&&void 0!==(e=p[b]))if(q)if(d[b]&&s(d[b])&&s(e))k(d[b],e,n,q);else{if(!0===n||void 0==d[b])s(e)?(d[b]={},k(d[b],e,n,!0)):d[b]=e}else if(!0===n||void 0==d[b])d[b]=e;return d}}();
return function(){var c=function(){this.supr&&this.supr!==t&&this.supr.apply(this,arguments)},k=function(d,p,b){var e=d.prototype[p]||("$construct"==p?d:t)||t;return function(){var d,a=this.supr;this.supr=e;d=b.apply(this,arguments);this.supr=a;return d}},n=function(d,p,b){var e,c,a,f=b.prototype;for(e in p)p.hasOwnProperty(e)&&(a=f[e],c=p[e],d[e]="function"!=typeof c||a&&"function"!=typeof a?c:k(b,e,c));d.$plugins=null;f.$beforeInit?(d.$beforeInit=f.$beforeInit.slice(),d.$afterInit=f.$afterInit.slice()):
(d.$beforeInit=[],d.$afterInit=[])},s=function(d,c){for(var b in c)c.hasOwnProperty(b)&&("$beforeInit"==b?d.$beforeInit.push(c[b]):"$afterInit"==b?d.$afterInit.push(c[b]):d[b]||(d[b]=c[b]))},h=function(d){d||(d=new w);var p=function(){return function(){var a,f,b=[],c=[],e,g,l=[],m=u.call(arguments);if(!this)throw"Must instantiate via new";this.$construct.apply(this,arguments);e=this.$plugins;this.$plugins=null;a=-1;for(f=this.$beforeInit.length;++a<f;b.push([this.$beforeInit[a],this]));a=-1;for(f=
this.$afterInit.length;++a<f;c.push([this.$afterInit[a],this]));if(e)for(a=0,f=e.length;a<f;a++)g=e[a],q(g)&&(g=d.get(g,!0)),l[a]=g=new g(this,m),g.$beforeHostInit&&b.push([g.$beforeHostInit,g]),g.$afterHostInit&&c.push([g.$afterHostInit,g]);a=-1;for(f=b.length;++a<f;b[a][0].apply(b[a][1],arguments));this.$init&&this.$init.apply(this,arguments);a=-1;for(f=c.length;++a<f;c[a][0].apply(c[a][1],arguments));this.$plugins=l}},b=function(){};z(b.prototype,{$class:null,$extends:null,$plugins:null,$mixins:null,
$construct:t,$init:t,$beforeInit:[],$afterInit:[],$getClass:function(){return this.$class},$getParentClass:function(){return this.$extends},destroy:function(){for(var a in this)this.hasOwnProperty(a)&&(this[a]=null)}});b.$self=b;b.$instantiate=function(){var a=arguments;switch(a.length){case 0:return new this;case 1:return new this(a[0]);case 2:return new this(a[0],a[1]);case 3:return new this(a[0],a[1],a[2]);case 4:return new this(a[0],a[1],a[2],a[3]);default:return h(this,a)}};b.$extend=function(a,
f,b){return e(a,f,b,this)};var e=function(a,f,e,h){"function"!=typeof a&&(e=f,f=a,a=null);f=f||{};var k=f.$class,g=h||f.$extends,l=f.$mixins,m,r;h=g&&q(g)?d.get(g):b;g?q(g)?h=d.get(g):(h=g,g=h.$class||""):(h=b,g="");if(g&&!h)throw Error(g+" not found");k&&(k=d.normalize(k));f.$class=k;f.$extends=g;f.$mixins=null;r=function(){};r.prototype=h.prototype;g=new r;r=null;f.$construct=a||c;n(g,f,h);if(l)for(a=0,f=l.length;a<f;a++)r=l[a],q(r)&&(r=d.get(r,!0)),s(g,r);l=p();g.constructor=l;l.prototype=g;for(m in b)"prototype"!=
m&&b.hasOwnProperty(m)&&(l[m]=b[m]);for(m in h)"prototype"!=m&&h.hasOwnProperty(m)&&(l[m]=h[m]);if(e)for(m in e)"prototype"!=m&&e.hasOwnProperty(m)&&(l[m]=e[m]);l.$parent=h;l.$self=l;k&&d.register(k,l);return l},h=function(a){var b=d.get(a),c=u.call(arguments,1);if(!b)throw Error(a+" not found");return b.$instantiate.apply(b,c)};this.factory=h;this.isSubclassOf=function(a,b){var c=a,e=d.get;b=q(b)?d.normalize(b):b.prototype.$class;for(q(a)&&(c=e(d.normalize(a)));c&&c.prototype;){if(c.prototype.$class==
b)return!0;c=c.$parent}return!1};this.isInstanceOf=function(a,b){var c=q(b)?d.get(b):b;return c?a instanceof c:!1};this.define=e;this.BaseClass=b};h.prototype={factory:null,isSubclassOf:null,isInstanceOf:null,define:null};return h}()});
