'use strict';define("metaphorjs-class",["metaphorjs-namespace"],function(s){function g(m){return"string"==typeof m||m===""+m}function p(){}var q=Object.prototype.toString;(function(){var m={"[object String]":0,"[object Number]":1,"[object Boolean]":2,"[object Object]":3,"[object Function]":4,"[object Array]":5,"[object RegExp]":9,"[object Date]":10};return function(h){if(!h){if(null===h)return 6;if(void 0===h)return 7}var g=m[q.call(h)];return void 0===g?-1:1==g&&isNaN(h)?8:g}})();var t=Array.prototype.slice;
return function(){var m=function(){this.supr&&this.supr!==p&&this.supr.apply(this,arguments)},h=function(e,b,g){var c=e.prototype[b]||("$construct"==b?e:p)||p;return function(){var a,d=this.supr;this.supr=c;a=g.apply(this,arguments);this.supr=d;return a}},q=function(e,b,g){for(var c in b)b.hasOwnProperty(c)&&(e[c]="function"!=typeof b[c]||"function"!=typeof g.prototype[c]&&g.prototype[c]?b[c]:h(g,c,b[c]))},u=function(){return function(){if(!this)throw"Must instantiate via new";this.$construct.apply(this,
arguments);this.initialize&&this.initialize.apply(this,arguments)}},r=function(e){e||(e=new s);var b=function(){};b.prototype={$class:null,$extends:null,$construct:function(){},$getClass:function(){return this.$class},$getParentClass:function(){return this.$extends},$override:function(){},destroy:function(){for(var a in this)this.hasOwnProperty(a)&&(this[a]=null)}};b.$self=b;b.$instantiate=function(){var a=arguments;switch(a.length){case 0:return new this;case 1:return new this(a[0]);case 2:return new this(a[0],
a[1]);case 3:return new this(a[0],a[1],a[2]);case 4:return new this(a[0],a[1],a[2],a[3]);default:return c(this,a)}};b.$extend=function(a,d,b){return h(a,d,b,this)};var h=function(a,d,n,l){"function"!=typeof a&&(n=d,d=a,a=null);d=d||{};var c=d.$class,f=l||d.$extends,k,h;l=f&&g(f)?e.get(f):b;f?g(f)?l=e.get(f):(l=f,f=l.$class||""):(l=b,f="");if(f&&!l)throw Error(f+" not found");c&&(c=e.normalize(c));d.$class=c;d.$extends=f;h=function(){};h.prototype=l.prototype;f=new h;h=null;d.$construct=a||m;q(f,d,
l);a=u();f.constructor=a;a.prototype=f;for(k in b)"prototype"!=k&&b.hasOwnProperty(k)&&(a[k]=b[k]);for(k in l)"prototype"!=k&&l.hasOwnProperty(k)&&(a[k]=l[k]);if(n)for(k in n)"prototype"!=k&&n.hasOwnProperty(k)&&(a[k]=n[k]);a.$parent=l;a.$self=a;c&&e.register(c,a);return a},c=function(a){var d=e.get(a),b=t.call(arguments,1);if(!d)throw Error(a+" not found");return d.$instantiate.apply(d,b)};this.factory=c;this.isSubclassOf=function(a,d){var b=a,c=e.get;d=g(d)?e.normalize(d):d.prototype.$class;for(g(a)&&
(b=c(e.normalize(a)));b&&b.prototype;){if(b.prototype.$class==d)return!0;b=b.$parent}return!1};this.isInstanceOf=function(a,b){var c=g(b)?e.get(b):b;return c?a instanceof c:!1};this.define=h;this.BaseClass=b};r.prototype={factory:null,isSubclassOf:null,isInstanceOf:null,define:null};return r}()});
